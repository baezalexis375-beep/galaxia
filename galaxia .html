<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🌟 Mi Galaxia de Amor 💖</title>
    <style>
        body {
            background-color: #000; /* Negro */
            overflow: hidden;
            margin: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            perspective: 1000px;
            cursor: grab;
            font-family: 'Arial', sans-serif;
        }

        #galaxia-container {
            position: relative;
            width: min(90vw, 90vh);
            height: min(90vw, 90vh);
            transform-style: preserve-3d;
        }

        #galaxia {
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            transition: transform 0.5s ease-out;
        }

        #sol {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 20%; /* Sol más grande */
            height: 20%;
            background-color: #fffa65; /* Amarillo suave */
            border-radius: 50%;
            margin-top: -10%;
            margin-left: -10%;
            z-index: 2;
            box-shadow: 0 0 20px #ffda65; /* Resplandor */
            display: flex;
            justify-content: center;
            align-items: center;
            color: #fff; /* Blanco */
            font-size: 2em; /* Diana más grande */
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .halago {
            position: absolute;
            color: #fdd6ff; /* Rosa pálido */
            font-size: 1em;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
            transition: transform 0.3s ease-out, opacity 0.3s ease-out;
        }

        .estrella {
            position: absolute;
            width: 2px;
            height: 2px;
            background-color: #fff;
            border-radius: 50%;
            opacity: 0.7;
        }

        body.dragging {
            cursor: grabbing;
        }
    </style>
</head>
<body>
    <div id="galaxia-container">
        <div id="galaxia">
            <div id="sol" id="nombre-galaxia">Diana</div>
        </div>
    </div>

    <script>
        const galaxiaContainer = document.getElementById('galaxia-container');
        const galaxia = document.getElementById('galaxia');
        const halagos = ["Mi amor", "Mi cielo", "Mi vida", "Mi corazón", "Mi reina", "Mi niña", "Mi sol", "Mi tesoro", "Mi cielo bonito", "Mi todo", "Te amo", "Te adoro", "Me encantas", "Me gustas mucho", "Eres mi todo", "Eres lo mejor que tengo", "Contigo siempre", "Eres mi destino", "Eres lo que soñé", "No hay nadie como tú", "Mi chiquita", "Mi bebé", "Mi cosita hermosa", "Mi preciosa", "Mi angelito", "Mi consentida", "Mi ternura"];
        const numEstrellas = 200;
        let zoomLevel = 1;
        let rotationX = 0;
        let rotationY = 0;
        let isDragging = false;
        let startX = 0;
        let startY = 0;

        // Crear estrellas
        function crearEstrellas() {
            for (let i = 0; i < numEstrellas; i++) {
                const estrella = document.createElement('div');
                estrella.classList.add('estrella');
                estrella.style.top = `${Math.random() * 100}vh`;
                estrella.style.left = `${Math.random() * 100}vw`;
                galaxiaContainer.appendChild(estrella);
            }
        }

        // Crear halagos
        function crearHalagos() {
            halagos.forEach(halago => {
                const elemento = document.createElement('div');
                elemento.classList.add('halago');
                elemento.textContent = halago;

                // Posiciona los halagos aleatoriamente alrededor del sol
                const angulo = Math.random() * 360;
                const distancia = 40 + Math.random() * 50; // Distancia del centro (relativa)
                const x = Math.cos(angulo * Math.PI / 180) * distancia;
                const y = Math.sin(angulo * Math.PI / 180) * distancia;

                elemento.style.transform = `translate(${x}%, ${y}%) rotate(${Math.random() * 360}deg)`;
                galaxia.appendChild(elemento);
            });
        }

        // Función para actualizar la transformación de la galaxia
        function updateTransform() {
            galaxia.style.transform = `scale(${zoomLevel}) rotateX(${rotationX}deg) rotateY(${rotationY}deg)`;
        }

        // Eventos para el zoom con la rueda del ratón
        galaxiaContainer.addEventListener('wheel', (e) => {
            e.preventDefault();
            zoomLevel += e.deltaY * -0.001;
            zoomLevel = Math.max(0.5, Math.min(zoomLevel, 2));
            updateTransform();
        });

        // Eventos para arrastrar y girar
        galaxiaContainer.addEventListener('mousedown', (e) => {
            isDragging = true;
            startX = e.clientX - galaxiaContainer.offsetLeft;
            startY = e.clientY - galaxiaContainer.offsetTop;
            galaxiaContainer.style.cursor = 'grabbing';
            document.body.classList.add('dragging');
        });

        document.addEventListener('mouseup', () => {
            isDragging = false;
            galaxiaContainer.style.cursor = 'grab';
            document.body.classList.remove('dragging');
        });

        document.addEventListener('mousemove', (e) => {
            if (!isDragging) return;
            e.preventDefault();
            const x = e.clientX - galaxiaContainer.offsetLeft;
            const y = e.clientY - galaxiaContainer.offsetTop;
            const deltaX = x - startX;
            const deltaY = y - startY;
            rotationY += deltaX * 0.2;
            rotationX += deltaY * 0.2;
            updateTransform();
            startX = x;
            startY = y;
        });

        // Función para obtener el parámetro "nombre" de la URL
        function obtenerParametro(nombre) {
            nombre = nombre.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
            var regex = new RegExp("[\\?&]" + nombre + "=([^&#]*)"),
                results = regex.exec(location.search);
            return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
        }

        // Obtener el nombre de la URL
        var nombre = obtenerParametro("nombre");

        // Si hay un nombre en la URL, actualizar el texto del elemento con id "sol"
        if (nombre) {
            document.getElementById("nombre-galaxia").textContent = nombre;
        }

        crearEstrellas();
        crearHalagos();
        updateTransform();
    </script>
</body>
</html>
